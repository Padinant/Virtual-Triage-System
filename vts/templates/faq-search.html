{% extends "base.html" %}

{% set header_eyebrow_class = 'top-header-2-eyebrow-faq' %}
{% set header_heading_class = 'top-header-2-heading-faq' %}

{% block title %}{{ title }}{% endblock %}

{% block styles %}
  <link href="/faq-search.css" rel="stylesheet" />
{% endblock %}

{% block content %}
    <!-- page title -->
    <h1 class="page-title page-title-faq">Frequently Asked Questions (FAQ)</h1>

    <!-- faq search bar section -->
    <form class="faq-search" id="faq-search" action="{{ url_for('faq_page') }}">
      <!-- input field -->
      <input
        autocomplete="off"
        class="faq-search-input"
        id="faq-query"
        name="query"
        placeholder="Search FAQs..."
        type="search"
        value="{{ query | default('', true) }}"
      />
      <!-- search button -->
      <button class="faq-search-submit" id="faq-search-button" type="submit">
        Search
      </button>
    </form>

    <!-- dropdown menu for FAQ categories -->
    <details class="faq-dropdown">
      <summary class="faq-dropdown-toggle">All Categories</summary>
      <ul class="faq-dropdown-list">
      {%for item in category_items %}
        <li><a class="faq-dropdown-link" href="/faq/category/{{ item.id }}">{{ item.category_name }}</a></li>
      {% endfor %}
      </ul>
    </details>

    <!-- every item here renders a single FAQ entry -->
    {% for item in faq_items %}
      <section class="faq-entry">
        {{ item.text | safe }}
      </section>
    {% endfor %}

    <!-- floating chatbot icon -->
    <a href="{{ url_for('chat') }}" class="chatbot-float">
      <img src="{{ url_for('static', filename='UMBC_STYLES/UMBC-retriever-social-media.png') }}" alt="Chatbot" />
    </a>
{% endblock %}
